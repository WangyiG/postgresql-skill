## 3.6之前%与fromat
- %不支持解包
```py
arr = ('mt',18)
'name is %s , age is %s'%(arr[0],arr[1])
```
- format支持解包
```py
'name is {},age is {}'.format(*arr)
```
## 3.6之后新增f-string
- f前缀
- {}中接受常量,变量,表达式,格式配置等
#### repr与ascii实现字符类型带引号
```py
f'name is {arr[0]!r} ,age is {"18"!a}'
```
#### 数字相关
- 几个特殊符号
- # 显示进制前缀，如0b,0o,0x等
- + 显示正负号
- - 只显示符号
- 空格 正数显示一个空格
- 使用_或,进行分隔,一般逗号分隔只用于十进制
- b bin二进制,o oct八进制,x hex十六进制,d 十进制,仅整数可用
- c chr函数
```py
num = 100_000_000
# 注意:符号设置在#号前
f'{num:+#_b}'
f'{101:c}'
```
#### 数字填充
- 填充默认以空格填充,另可且仅可指定以0填充
- 对于有符号及#前缀的填充填充应在符号和#后
```py
f'{100:+#020b}'
```
#### 浮点数小数保留
- .3f 设置保留3位小数
- 填充在前 f'{10.123456:010.3f}' 保留3位小数共占10位字符,不足部分在左侧补0
```py
f'{10.123456:010.3f}'
```
#### 自定义填充及对齐
- s>n: 占 n 个字符,右对齐,长度不够则在左边用s填充；
- s^n: 占 n 个字符,居中对齐,长度不够则在左右两端用s填充；
- s<n: 占 n 个字符,左对齐,长度不够则在右边用s填充
- s只能是单个字符
```py
# 第一个b是填充字符,第二个b才是二进制转换
print(f"{123:b>#20b}")
```
#### 日期截取
- %F: 返回date年月日(使用-连接)
- %X: 返回time，精确到秒(小数点后面的会截断)
- %Y: 返回年(四位)
- %y: 返回年(两位)
- %m: 返回月,win下%#m,linux与mac下%-m,返回不带0的月
- %d: 返回天,win下%#d,linux与mac下%-d,返回不带0的天
- %H: 返回小时(24小时制度)
- %I: 返回小时(12小时制度)
- %M: 返回分钟
- %S: 返回秒
- %f: 返回微秒,会占满6位不足补0
- %p: 早上还是下午(本地时间),没有%a,早上返回am 下午返回pm
- %j: 一年中的第几天，从 1 开始，1月1号就是 1
- %w: 星期几(0是周日、1 到 6是周一到周六)
- %u: 星期几(1 到 7是周一到周日)
- %U: 一年中的第几周(以全年首个周日所在的星期为第0周)
- %W: 一年中的第几周(以全年首个周一所在的星期为第1周)
- %V: 一年中的第几周(以全年首个包含1月4日的星期为第1周)
- %Z: 时区
```py
import datetime
dt = datetime.datetime(1995, 7, 5, 13, 30, 45, 100000)
f'{dt:%#d}'
```
#### fstring使用注意
```py
# 双花括号转义
f"{{mt"

# 使用小括号解包处理
f"{({'mt'})}"  

# 字符串拼接,要求每一部分都带f前缀
name = 'mt' 
love = 'code'
f'{name}'    f'love'
```
- lambda表达式
```py
# 使用lambda表达式的时候一定要使用括号括起来
# 否则会将lambda中的:解释成表达式与格式描述符之间的分隔符
f"{(lambda x: x + 123)(123)}"  # 246
```
