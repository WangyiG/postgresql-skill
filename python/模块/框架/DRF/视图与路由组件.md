## 2个视图基类
- APIView
```py
from rest_framework.views import APIView
'''
APIView是drf所有视图的基类,继承自Django的View父类
APIView与View的不同之处在于：
1.传入到视图方法中的是drf的Request对象(主要解决POST请求支持Json格式编码数据),而不是Django的HttpRequeset对象(其POST不支持json格式编码数据)
2.视图方法可以返回drf中的Response对象,视图会为响应数据设置（render）符合前端要求的格式
3.任何APIException异常都会被捕获到，并且处理成合适的响应信息
4.在进行dispatch()分发前,会对请求进行身份认证、权限检查、流量控制

支持定义的类属性：
rederer_classes 支持响应的编码格式
parser_classes  支持解析的编码格式
authentication_classes 列表或元组，身份认证类
permissoin_classes 列表或元组，权限检查类
throttle_classes 列表或元组，流量控制类
'''
```
- GenericAPIView
```py
from rest_framework.generics import GenericAPIView
'''
继承自APIView,主要增加了操作序列化器和数据库查询的属性与方法
设置类属性：
  1.queryset = 指定qs对象,ex:Book.objects.all()
  2.serializer_class = 指定序列化器,ex:BookSerializer
利用新方法隐式调用类属性修改请求函数,优点是请求方法都去绑定类属性,以后复用只需修改类属性即可：
  1.get_queryset
    ex: book_list = Book.objects.all() 变成 obj = self.get_queryset()
  2.get_object
    ex: book=Book.objects.filter(pk=pk).first()变为obj=self.get_object()
    请求函数中需要有pk参数,get_object源码自动找pk,get_object方法不必传pk
    注意delete请求需要在调用后继续调用delete(),obj=self.get_object().delete()等同于Book.objects.filter(pk=pk).first().delete()
  3.get_serializer
    ex: ser = BookSerializer(instance=book_list,many=True) 变成ser = self.get_serializer(instance=obj,many=True)
    get_serializer方法根据请求函数的不同，需要传参[instance,many,data]

'''
```

## 5个视图扩展类
- 不是视图类,不继承APIView,需要与GenericAPIView搭配食用
- GenericAPIView用于固定queryset与serializer_class
- 视图扩展类用于继续封装简化请求函数
```py
from rest_framework.mixins import ListModelMixin,RetrieveModelMixin,CreateModelMixin,UpdateModelMixin,DestroyModelMixin
'''
1.ListModelMixin        查询多个,不用再记many = True了,给封装了
2.RetrieveModelMixin    查询单个
3.CreateModelMixin      新增
4.UpdateModelMixin      修改
5.DestroyModelMixin     删除 
'''
# 原get请求函数
def get(self,request):
  obj = self.get_queryset()
  ser = self.get_serializer(instance = obj,many = True)
  return Response(ser.data)
# 新get请求函数,继承ListModelMixin
def get(self,request):
  return super().list(request)
# 原post请求函数
def post(self,request):
  ser = self.get_serializer(data = request.data)
  if ser.is_valid():
    ser.save()
    return Response(ser.data)
# 新post请求函数,继承CreateModelMixin
def post(self,request):
  return super().create(request)
# 原put请求函数
def put(self,request):
  obj = self.get_object()
  ser = self.get_serializer(instance = obj,data = request.data)
  if ser.is_valid():
    ser.save()
    return Response(ser.data)
# 新put请求函数,继承UpdateModelMixin
def put(self,request,*args,**kwargs):
  return super().update(request,*args,**kwargs)
```
